# üß™ Testing Overview for Trang Pepper CMS

## ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

- **Test Runner:** [Vitest](https://vitest.dev)
- **Test Utilities (React Components):** [@testing-library/react](https://testing-library.com/docs/react-testing-library/intro/)
- **Custom Matchers (DOM):** [@testing-library/jest-dom](https://github.com/testing-library/jest-dom)
- **Test Environment:** `jsdom` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Environment ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡∏•‡∏≠‡∏á DOM ‡πÉ‡∏ô Node.js)

## üß† ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö (Test Strategy)

- üîπ **Unit Test:** ‡πÉ‡∏ä‡πâ Vitest ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö Testing Library ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö component-based test
- üîπ **Integration Test:** ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£ render + interaction ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô component ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- üî∏ **E2E Test:** _(‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÉ‡∏ä‡πâ _[_Playwright_](https://playwright.dev)_ ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)_

## üóÇ ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

| ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á                       | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢                                                                            |
| :---------------------------- | :---------------------------------------------------------------------------------- |
| `vitest.config.mts`           | ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ Vitest ‡πÄ‡∏ä‡πà‡∏ô Path ‡∏Ç‡∏≠‡∏á Test files, Environment, ‡πÅ‡∏•‡∏∞ Setup files.             |
| `src/__tests__/setupTests.ts` | ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Global Test Environment (‡πÄ‡∏ä‡πà‡∏ô `jest-dom` matchers, Global Mocks). |
| `tsconfig.vitest.json`        | ‡πÅ‡∏¢‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ TypeScript ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Test files.                                    |

> ‚úÖ Test file ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• `.test.ts`, `.test.tsx`, `.spec.ts` ‡∏´‡∏£‡∏∑‡∏≠ `.spec.tsx` ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `src/` (‡πÉ‡∏Å‡∏•‡πâ‡∏Å‡∏±‡∏ö Component ‡∏ó‡∏µ‡πà‡∏ó‡∏î‡∏™‡∏≠‡∏ö)

---

## ‚úÖ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Test

```typescript jsx
// üìÑ src/components/HomeContent.test.tsx
import { render, screen } from '@testing-library/react'; // ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á import React ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ JSX transform
import { describe, it, expect } from 'vitest';
import HomeContent from './HomeContent'; // ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤ HomeContent ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

describe('<HomeContent />', () => {
  it('renders heading and link', () => {
    render(<HomeContent />);

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Component ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á
    expect(screen.getByText(/welcome to trang pepper cms/i)).toBeInTheDocument();
    expect(screen.getByText(/click me/i)).toBeInTheDocument();
    expect(screen.getByText((text) => text.includes('Learn More'))).toBeInTheDocument();
  });
});
```

---

## ‚ö†Ô∏è ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏Å‡∏•‡∏∑‡∏° (Common Pitfalls)

| ‡∏õ‡∏±‡∏ç‡∏´‡∏≤                                | ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ                                                                                |
| ------------------------------------ | ---------------------------------------------------------------------------------------- |
| JSX ‡πÅ‡∏•‡πâ‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô `React is not defined`  | ‡∏ï‡πâ‡∏≠‡∏á `import React from 'react'` ‡πÉ‡∏ô test ‡πÅ‡∏•‡∏∞ component ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô test                     |
| ‡πÉ‡∏ä‡πâ `toBeInTheDocument()` ‡πÅ‡∏•‡πâ‡∏ß error | ‡∏ï‡πâ‡∏≠‡∏á `import '@testing-library/jest-dom'` ‡πÉ‡∏ô `setupTests.ts` ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏ü‡∏•‡πå test               |
| Vitest ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ test                   | ‡∏ï‡∏£‡∏ß‡∏à `vitest.config.ts` ‡∏ß‡πà‡∏≤ `include: ['src/**/*.{test,spec}.{ts,tsx}']` ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà |

---

## üßº ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö: ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô CJS build deprecated

‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏à‡∏≠‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ô terminal:

> `The CJS build of Vite's Node API is deprecated...`

‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

- ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå `vitest.config.ts` ‚Üí `vitest.config.mts` (‡πÄ‡∏õ‡πá‡∏ô .mts ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô ES Module)
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° `"type": "module"` ‡πÉ‡∏ô `package.json` ‡∏ó‡∏µ‡πà Root ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)

‡πÅ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏µ‡∏Å üéâ

---

## üîÑ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Component ‡πÉ‡∏´‡∏°‡πà

1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.tsx` (‡∏´‡∏£‡∏∑‡∏≠ `.ts`) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Component ‡∏´‡∏£‡∏∑‡∏≠ Logic
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Test `.test.tsx` (‡∏´‡∏£‡∏∑‡∏≠ `.test.ts`) ‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô ‡πÇ‡∏î‡∏¢‡∏ß‡∏≤‡∏á‡πÉ‡∏Å‡∏•‡πâ‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ô `src/__tests__/` ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å).
3. ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:

```bash
pnpm test      # ‡∏´‡∏£‡∏∑‡∏≠: pnpm vitest
```

> üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏∞‡∏¢‡∏∞‡∏ï‡πà‡∏≠‡πÑ‡∏õ: ‡∏™‡∏£‡πâ‡∏≤‡∏á CLI generator ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á `.tsx + .test.tsx` ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô (‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÉ‡∏ô Phase 4 ‡∏´‡∏£‡∏∑‡∏≠ Future Enhancements)

---

## üîú ‡πÅ‡∏ú‡∏ô‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î

| ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£                                                          | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞                                       |
| --------------------------------------------------------------- | ------------------------------------------- |
| ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö Unit Test ‡∏î‡πâ‡∏ß‡∏¢ Vitest + RTL                         | ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (Implemented)                  |
| üü° ‡∏£‡∏ß‡∏° test script ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö CI ‡πÄ‡∏ä‡πà‡∏ô GitHub Actions (‡∏´‡∏£‡∏∑‡∏≠ Vercel) | ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£                                 |
| üü° ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Playwright ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö E2E test                           | ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£                                 |
| üü° ‡∏™‡∏£‡πâ‡∏≤‡∏á CLI ‡∏™‡∏£‡πâ‡∏≤‡∏á component + test ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥                   | ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÉ‡∏ô Phase 4 (‡∏´‡∏£‡∏∑‡∏≠ Future Enhancements) |

---

## ‚úçÔ∏è ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥

- Isara Chumsri (2024‚Äì2025)
- Codex + ChatGPT (‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πà‡∏ß‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤)
